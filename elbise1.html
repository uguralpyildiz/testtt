<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarih Aralığı Seçme Formu</title>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="script.js"></script>
</head>
<body>

<h2>Hangi Tarihler Kiralanacak</h2>

<form id="date-range-form">
  <input type="text" id="start-date" name="start-date" placeholder="Başlangıç Tarihi">
  <br>
  <input type="text" id="end-date" name="end-date" placeholder="Bitiş Tarihi">
  <br>
  <div id="date-difference"></div>
  <br>
  <div id="total-amount"></div>

</form>

</body>
</html>




<script>
 $(document).ready(function () {
        // Türkçe dil ayarları
        $.datepicker.regional['tr'] = {
            closeText: 'Kapat',
            prevText: '&#x3C;Önceki',
            nextText: 'Sonraki&#x3E;',
            currentText: 'Bugün',
            monthNames: ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran',
                'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'],
            monthNamesShort: ['Oca', 'Şub', 'Mar', 'Nis', 'May', 'Haz',
                'Tem', 'Ağu', 'Eyl', 'Eki', 'Kas', 'Ara'],
            dayNames: ['Pazar', 'Pazartesi', 'Salı', 'Çarşamba', 'Perşembe', 'Cuma', 'Cumartesi'],
            dayNamesShort: ['Pz', 'Pt', 'Sa', 'Ça', 'Pe', 'Cu', 'Ct'],
            dayNamesMin: ['Pz', 'Pt', 'Sa', 'Ça', 'Pe', 'Cu', 'Ct'],
            weekHeader: 'Hf',
            dateFormat: 'dd/mm/yy',
            firstDay: 1,
            isRTL: false,
            showMonthAfterYear: false,
            yearSuffix: ''
        };

        $.datepicker.setDefaults($.datepicker.regional['tr']);

        // Başlangıç tarih seçicisini etkinleştir
        $("#start-date").datepicker({
            dateFormat: 'dd/mm/yy', // Tarih formatı
            minDate: 0, // Bugünden önceki tarihleri engelle
            beforeShowDay: function (date) {
                var day = date.getDay();
                return [(day != 0), '']; // Pazar günlerini devre dışı bırak
            },
            onSelect: function (selectedDate) {
                var minEndDate = $(this).datepicker("getDate"); // Başlangıç tarihini al
                minEndDate.setDate(minEndDate.getDate() + 1); // Başlangıç tarihinden 1 gün sonrasını minDate olarak ayarla
                $("#end-date").datepicker("option", "minDate", minEndDate); // Bitiş tarih seçicisinin minDate'ini güncelle
                $("#end-date").fadeIn();
                updateDateDifference();
            }
        });

        // Bitiş tarih seçicisini etkinleştir
        $("#end-date").datepicker({
            dateFormat: 'dd/mm/yy', // Tarih formatı
            minDate: 0, // Bugünden önceki tarihleri engelle
            beforeShowDay: function (date) {
                var day = date.getDay();
                return [(day != 0), '']; // Pazar günlerini devre dışı bırak
            },
            onSelect: function (selectedDate) {
                updateDateDifference();
            }
        });

        // Tarih aralığındaki gün sayısını ve ücreti güncelle
        function updateDateDifference() {
            var startDate = $("#start-date").datepicker("getDate");
            var endDate = $("#end-date").datepicker("getDate");

            if (startDate && endDate && startDate <= endDate) { // Başlangıç tarihi bitiş tarihinden önce veya aynı günse
                var difference = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));
                var dailyRate = 100; // Günlük ücret 100 TL

                var totalAmount = 0;
                if (difference <= 4) {
                    totalAmount = 500; // İlk dört gün için ücret 500 TL
                } else {
                    totalAmount = 500 + (difference - 4) * dailyRate; // Diğer günler için ek ücretler
                }

                $("#date-difference").text("Kiralanan Gün Sayısı: " + difference + " gün");
                $("#total-amount").text("Toplam Ücret: " + totalAmount + " TL");
            } else {
                $("#date-difference").text("");
                $("#total-amount").text("");
            }
        }

        // Bitiş tarih seçicisini gizle
        $("#end-date").hide();
    });

</script>

</body>
</html>
